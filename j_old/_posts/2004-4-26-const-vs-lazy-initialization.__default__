--- 
title: const vs. lazy initialization
mt_id: 54
layout: post
date: 2004-04-26 13:19:33 +00:00
---
I like lazy initialization like this:

<pre>const char *get_name(void) {
  if (NULL == name_) {
    name_ = generate_name();
  }
  return name_;
}</pre> 
Lately I've also started liking const as a method modifier. This doesn't play nicely with lazy initialization:

<pre>char *get_name(void) <b><u>const</u></b> {
  if (NULL == name_) {
    name_ = generate_name(); <--- ERROR!
  }
  return name_;
}</pre>

I'm not sure how to elegantly combine the two.
